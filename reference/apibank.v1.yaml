openapi: 3.0.0
info:
  title: apibank
  version: '1.0'
  contact:
    name: Jorge Sagasti
    email: jorge@sagasti.com
  license:
    name: Apache 2.0
servers:
  - url: 'http://localhost:8383/apiOma/api'
    description: localhost
paths:
  /OnBoarding:
    post:
      summary: Alta de cliente (OnBoarding)
      operationId: post-OnBoarding
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  respuesta:
                    title: BaseResponse
                    type: object
                    properties:
                      id:
                        type: string
                      mensaje:
                        type: string
                  identificacion:
                    $ref: '#/components/schemas/identificacion'
                  cuenta:
                    type: array
                    items:
                      title: cuenta
                      type: object
                      properties:
                        iipoCuentad:
                          type: string
                        nroCuenta:
                          type: string
                        aliasCuenta:
                          type: string
                        cbuCuenta:
                          type: string
              examples: {}
            application/xml:
              schema:
                type: object
                properties: {}
            multipart/form-data:
              schema:
                type: object
                properties: {}
            text/html:
              schema:
                type: object
                properties: {}
            text/plain:
              schema:
                type: object
                properties:
                  '':
                    type: string
          headers: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                persona:
                  $ref: '#/components/schemas/persona_cuenta_nueva'
            examples:
              example-1: {}
        description: Onboaring de Clientes
      parameters:
        - schema:
            type: string
          in: header
          name: UserAuthorization
          required: true
      security:
        - API Key: []
  /ConsultaCuenta:
    post:
      summary: Consulta de cuentas
      operationId: post-apiOma-api-ConsultaCuenta
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
      description: Requiere que viaje en el header el atributo de sesión de usuario “UserAuthorization”.
    parameters: []
  /ConsultaSaldo:
    post:
      summary: ''
      operationId: post-ConsultaSaldo
      responses:
        '200':
          description: OK
  /ConsultaSaldoPorCuenta:
    post:
      summary: ''
      operationId: post-ConsultaSaldoPorCuenta
      responses:
        '200':
          description: OK
  /ConsultaCuentaPorCuenta:
    post:
      summary: ''
      operationId: post-ConsultaCuentaPorCuenta
      responses:
        '200':
          description: OK
  /ConsultaMovimientos:
    post:
      summary: ''
      operationId: post-ConsultaMovimientos
      responses:
        '200':
          description: OK
  /ConsultaMovimientosDiferidos:
    post:
      summary: ''
      operationId: post-ConsultaMovimientosDiferidos
      responses:
        '200':
          description: OK
  /ConsultaCbuAlias:
    post:
      summary: ''
      operationId: post-ConsultaCbuAlias
      responses:
        '200':
          description: OK
  /ConsultaOperacion:
    parameters: []
    post:
      summary: Consulta de operaciones activas
      operationId: postConsultaOperacion
      responses:
        '200':
          description: OK
      tags:
        - Operación
  /GeneracionOTCconMail:
    parameters: []
    post:
      summary: ''
      operationId: postGeneracionOTCconMail
      responses:
        '200':
          description: OK
      tags:
        - Generación y Validación de Tokens
  /GeneracionOTCsinMail:
    parameters: []
    post:
      summary: ''
      operationId: postGeneracionOTCsinMail
      responses:
        '200':
          description: OK
      tags:
        - Generación y Validación de Tokens
  /ResyncToken:
    parameters: []
    post:
      summary: Resync Token
      operationId: postResyncToken
      responses:
        '200':
          description: OK
      tags:
        - Generación y Validación de Tokens
  /CrearUsuario:
    parameters: []
    post:
      summary: Alta de usuario Digital
      operationId: postCrearUsuario
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /CambioPassword:
    parameters: []
    post:
      summary: Cambio de password
      operationId: postCambioPassword
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /ForzarCambioPassword:
    parameters: []
    post:
      summary: Forzar cambio de password
      operationId: postForzarCambioPassword
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /RefreshTokenSession:
    parameters: []
    post:
      summary: Refresh token sessión
      operationId: postRefreshTokenSession
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /ValidarUsuario:
    parameters: []
    post:
      summary: Consulta de Usuario Valido
      operationId: postValidarUsuario
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /ValidarPassword:
    parameters: []
    post:
      summary: Consulta de Password Valida
      operationId: postValidarPassword
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /GetUsuario:
    post:
      summary: Consulta de Usuario (Tipo y Nro de documento y password)
      operationId: post-GetUsuario
      responses:
        '200':
          description: OK
  /LogOut:
    parameters: []
    post:
      summary: LogOut
      operationId: postLogOut
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /RecuperarUsuario:
    parameters: []
    post:
      summary: Recuperar Usuario
      operationId: postRecuperarUsuario
      responses:
        '200':
          description: OK
      tags:
        - Usuario
  /ConsultaAgenda:
    parameters: []
    post:
      summary: Consulta de Agenda
      operationId: postConsultaAgenda
      responses:
        '200':
          description: OK
      tags:
        - Agenda de Beneficiarios
  /AltaBeneficiario:
    parameters: []
    post:
      summary: Alta de Beneficiario
      operationId: postAltaBeneficiario
      responses:
        '200':
          description: OK
      tags:
        - Agenda de Beneficiarios
  /ModificarBeneficiario:
    parameters: []
    post:
      summary: Modificación de Beneficiario
      operationId: postModificarBeneficiario
      responses:
        '200':
          description: OK
      tags:
        - Agenda de Beneficiarios
  /EliminarBeneficiario:
    parameters: []
    post:
      summary: Baja de Beneficiario
      operationId: postEliminarBeneficiario
      responses:
        '200':
          description: OK
      tags:
        - Agenda de Beneficiarios
  /GenerarTransaccion:
    parameters: []
    post:
      summary: Generar Transacción
      operationId: postGenerarTransaccion
      responses:
        '200':
          description: OK
      tags:
        - Transferencias
      description: Requiere que viaje en el header el atributo de sesión de usuario “UserAuthorization”.
  /ConsultaPrecio:
    parameters: []
    post:
      summary: Consulta de Precio
      operationId: postConsultaPrecio
      responses:
        '200':
          description: OK
      tags:
        - Compra/Venta
  /Conversor:
    parameters: []
    post:
      summary: Conversor de Montos según Precios de Compra/Venta
      operationId: postConversor
      responses:
        '200':
          description: OK
      tags:
        - Compra/Venta
  /GenerarCompraVenta:
    parameters: []
    post:
      summary: Ingreso de Compra/Venta
      operationId: postGenerarCompraVenta
      responses:
        '200':
          description: OK
      tags:
        - Compra/Venta
  /ConsultaTasa:
    parameters: []
    post:
      summary: Consulta de tasas
      operationId: postConsultaTasa
      responses:
        '200':
          description: OK
      tags:
        - Plazo Fijo
  /CalculoInteres:
    parameters: []
    post:
      summary: Cálculo de intereses y plazo
      operationId: postCalculoInteres
      responses:
        '200':
          description: OK
      tags:
        - Plazo Fijo
  /GenerarPlazoFijo:
    parameters: []
    post:
      summary: Ingreso de Plazo Fijo
      operationId: postGenerarPlazoFijo
      responses:
        '200':
          description: OK
      tags:
        - Plazo Fijo
  /ModificarPlazoFijo:
    parameters: []
    post:
      summary: Modificación de Plazo Fijo
      operationId: postModificarPlazoFijo
      responses:
        '200':
          description: OK
      tags:
        - Plazo Fijo
  /ConsultaPlazoFijo:
    parameters: []
    post:
      summary: Consulta de Plazo Fijo
      operationId: postConsultaPlazoFijo
      responses:
        '200':
          description: OK
  /ConsultaPrestamos:
    parameters: []
    post:
      summary: Consulta de Préstamos
      operationId: postConsultaPrestamos
      responses:
        '200':
          description: OK
  /ConsultaCuotas:
    parameters: []
    post:
      summary: Consulta de cuotas de Prestamos
      operationId: postConsultaCuotas
      responses:
        '200':
          description: OK
  /GenerarPrestamo:
    post:
      summary: Generación de Prestamos
      operationId: post-apiOma-api-GenerarPrestamo
      responses:
        '200':
          description: OK
    parameters: []
  /ModificarPersona:
    get:
      summary: Modificación de persona
      tags:
        - Persona
      responses:
        '200':
          description: OK
      operationId: get-ModificarPersona
      requestBody:
        content:
          application/json:
            schema:
              $ref: ''
      description: Requiere que viaje en el header el atributo de sesión de usuario “UserAuthorization”.
    post:
      summary: ''
      operationId: post-ModificarPersona
      responses:
        '200':
          description: OK
      tags:
        - Persona
  /ConsultaModPersona:
    post:
      summary: Consulta de datos modificables de persona
      operationId: post-consultaModPersona
      responses:
        '200':
          description: OK
      description: Requiere que viaje en el header el atributo de sesión de usuario “UserAuthorization”.
      tags:
        - Persona
    parameters: []
  /ValidacionOTC:
    post:
      summary: Validación OTC
      operationId: post-ValidacionOTC
      responses:
        '200':
          description: OK
      tags:
        - Generación y Validación de Tokens
  /ActivarToken:
    post:
      summary: Generación y Activación de Token
      operationId: post-ActivarToken
      responses:
        '200':
          description: OK
      tags:
        - Generación y Validación de Tokens
      description: ''
  /Auth:
    post:
      summary: Autenticación (LogIn)
      operationId: post-Auth
      responses:
        '200':
          description: OK
      tags:
        - Usuario
components:
  schemas:
    domicilio_telefonos:
      title: domicilio_telefonos
      type: object
      properties:
        calleid:
          type: string
        nro:
          type: string
        piso:
          type: string
        departamento:
          type: string
        localidad:
          type: string
        codigoPostal:
          type: string
        pais:
          type: string
        provincia:
          type: string
        telefonoParticular:
          title: telefono
          type: object
          properties:
            codigoArea:
              type: string
            nro:
              type: string
        celular:
          $ref: '#/components/schemas/telefono_requerido'
        telefonoLaboral:
          $ref: '#/components/schemas/telefono'
        telefonoLaboral2:
          $ref: '#/components/schemas/telefono'
        '':
          type: string
      required:
        - calleid
        - nro
        - localidad
        - codigoPostal
        - pais
        - celular
    telefono:
      title: telefono
      type: object
      properties:
        codigoArea:
          type: string
        nro:
          type: string
    persona:
      title: persona
      type: object
      description: ''
      properties:
        nombre:
          type: string
        apellido:
          type: string
        cuit:
          type: string
        nroDocumento:
          type: string
        tipoDocumento:
          type: string
        empleo:
          title: empleo
          type: object
          properties:
            ocupacion:
              type: string
            ingresos:
              title: ingresos
              type: object
              properties:
                periodo:
                  type: string
                sueldo:
                  type: number
                sueldoNosis:
                  type: number
                otrosIngresos:
                  type: number
              required:
                - periodo
                - sueldo
                - sueldoNosis
        categoriaIva:
          type: string
        mail:
          $ref: '#/components/schemas/mail'
        lugarNacimiento:
          type: string
        sexo:
          type: string
        tipoPersona:
          type: string
        pep:
          $ref: '#/components/schemas/pep'
        modalidadTrabajo:
          type: string
          enum:
            - '1'
            - '2'
        renaper:
          type: object
          properties:
            domicilio:
              $ref: '#/components/schemas/domicilio_renaper'
        cotitulares:
          type: array
          items:
            $ref: '#/components/schemas/cotitular'
        domicilio:
          $ref: '#/components/schemas/domicilio_telefonos'
        conyuge:
          $ref: '#/components/schemas/conyuge'
        declaracionJurada:
          type: string
        estadoCivil:
          type: string
        nacionalidad:
          type: string
      required:
        - nombre
        - apellido
        - cuit
        - nroDocumento
        - tipoDocumento
        - estadoCivil
        - nacionalidad
    conyuge:
      title: conyuge
      type: object
      properties:
        tipoDocumento:
          type: string
        nroDocumento:
          type: string
        apellido:
          type: string
        nombre:
          type: string
        telefono:
          $ref: '#/components/schemas/telefono'
      description: ''
    empleo:
      title: empleo
      type: object
      properties:
        ocupacion:
          type: string
        ingresos:
          title: ingresos
          type: object
          properties:
            periodo:
              type: string
            sueldo:
              type: number
            sueldoNosis:
              type: number
            otrosIngresos:
              type: number
          required:
            - periodo
            - sueldo
            - sueldoNosis
    ingresos_nosis:
      title: ingresos
      type: object
      properties:
        periodo:
          type: string
        sueldo:
          type: number
        sueldoNosis:
          type: number
        otrosIngresos:
          type: number
      required:
        - periodo
        - sueldo
        - sueldoNosis
    mail:
      title: mail
      type: object
      properties:
        mail:
          type: string
        mailLaboral:
          type: string
      required:
        - mail
    pep:
      title: pep
      type: object
      properties:
        fecha:
          type: string
        pep:
          type: string
          enum:
            - S
            - 'N'
      required:
        - pep
    domicilio_renaper:
      title: domicilio
      type: object
      properties:
        pais:
          $ref: '#/components/schemas/pais'
        codigoPostal:
          type: string
          description: Código postal obtenido en Renaper
        localidad:
          type: string
          description: Localidad obtenida en Renaper
        departamento:
          type: string
          description: Departamento obtenido en Renaper
        piso:
          type: string
          description: Piso obtenido en Renaper
        nro:
          type: string
          description: Numero de calle obtenido en Renaper
        calle:
          type: string
          description: Calle obtenida en Renaper
      required:
        - pais
        - codigoPostal
        - localidad
        - nro
        - calle
    cotitular:
      title: cotitular
      type: object
      properties:
        tipoDocumento:
          type: string
        nroDocumento:
          type: string
    base_response:
      title: BaseResponse
      type: object
      properties:
        id:
          type: string
        mensaje:
          type: string
    identificacion_cuit:
      title: identificacion_cuit
      type: object
      properties:
        tipoDocumento:
          type: string
        nroDocumento:
          type: string
        cuit:
          type: string
    cuenta:
      title: cuenta
      type: array
      description: ''
      items:
        type: object
        properties:
          tipoCuenta:
            type: string
            description: Tipo de cuenta (Tabla de equivalencias de Tipos de Cuentas)
          descripcion:
            type: string
          nroCuenta:
            type: string
          saldoTotal:
            type: number
          listaPorEspecie:
            $ref: '#/components/schemas/lista_por_especie'
    identificacion:
      title: identificacion
      type: object
      properties:
        tipoDocumento:
          type: string
        nroDocumento:
          type: string
    persona_cuenta_nueva:
      title: persona_cuenta_nueva
      type: object
      properties:
        estadoCivil:
          type: string
        declaracionJurada:
          type: string
        conyuge:
          $ref: '#/components/schemas/conyuge'
        domicilio:
          $ref: '#/components/schemas/domicilio_telefonos'
        cotitulares:
          type: array
          items:
            $ref: '#/components/schemas/cotitular'
        renaper:
          type: object
          properties:
            domicilio:
              $ref: '#/components/schemas/domicilio_renaper'
        cuentaNueva:
          type: string
          enum:
            - S
            - 'N'
        modalidadTrabajo:
          type: string
          enum:
            - A
            - R
        pep:
          $ref: '#/components/schemas/pep'
        tipoPersona:
          type: string
          enum:
            - '01'
            - '02'
        sexo:
          type: string
          enum:
            - F
            - M
        lugarNacimiento:
          type: string
        mail:
          $ref: '#/components/schemas/mail'
        categoriaIva:
          type: string
          enum:
            - '01'
            - '02'
            - '03'
            - '04'
            - '06'
        empleo:
          $ref: '#/components/schemas/empleo'
        tipoDocumento:
          type: string
        nroDocumento:
          type: string
        cuit:
          type: string
        apellido:
          type: string
        nombre:
          type: string
        nacionalidad:
          type: string
        fechaNacimiento:
          type: string
          format: date
      required:
        - estadoCivil
        - domicilio
        - renaper
        - cuentaNueva
        - modalidadTrabajo
        - pep
        - tipoPersona
        - sexo
        - lugarNacimiento
        - mail
        - categoriaIva
        - empleo
        - tipoDocumento
        - nroDocumento
        - cuit
        - apellido
        - nombre
        - nacionalidad
        - fechaNacimiento
      description: ''
    pais:
      type: string
      title: pais
      enum:
        - '01'
        - '02'
        - '03'
        - '04'
        - '05'
        - '06'
        - '07'
        - '8'
        - '9'
        - '10'
        - '11'
        - '12'
        - '13'
        - '14'
        - '15'
        - '16'
        - '17'
        - '18'
        - '19'
        - '20'
        - '21'
        - '22'
        - '23'
        - '24'
        - '25'
        - '26'
        - '27'
        - '28'
        - '29'
        - '30'
        - '31'
        - '32'
        - '33'
        - '34'
        - '35'
        - '36'
        - '37'
        - '38'
        - '39'
        - '40'
        - '41'
        - '42'
        - '43'
        - '44'
        - '45'
        - '46'
        - '47'
        - '48'
        - '49'
        - '50'
        - '51'
        - '52'
        - '53'
        - '54'
        - '55'
        - '56'
        - '57'
        - '58'
        - '59'
        - '60'
        - '61'
        - '62'
        - '63'
        - '64'
        - '65'
        - '66'
        - '67'
        - '68'
        - '69'
        - '70'
        - '71'
        - '72'
        - '73'
        - '74'
        - '75'
        - '76'
        - '77'
        - '78'
        - '79'
        - '80'
        - '81'
        - '82'
        - '83'
        - '84'
        - '85'
        - '86'
        - '87'
        - '88'
        - '89'
        - '90'
        - '91'
        - '92'
        - '93'
        - '94'
        - '95'
        - '96'
        - '97'
        - '98'
        - '99'
        - AF
        - AG
        - AI
        - AL
        - AW
        - AZ
        - BB
        - BH
        - BM
        - BN
        - BO
        - BS
        - BZ
        - CC
        - CI
        - CK
        - CS
        - CV
        - CX
        - DJ
        - DM
        - DO
        - ET
        - GD
        - GH
        - GI
        - GL
        - GU
        - GY
        - HN
        - IQ
        - IR
        - KE
        - KH
        - KI
        - KN
        - KW
        - LA
        - LC
        - LX
        - MC
        - MH
        - MM
        - MN
        - MO
        - MR
        - MS
        - MT
        - MV
        - NA
        - NE
        - NF
        - NP
        - NU
        - PA
        - PF
        - PM
        - PN
        - PW
        - QA
        - RS
        - SB
        - SC
        - SD
        - SH
        - SJ
        - SM
        - ST
        - SZ
        - TC
        - TJ
        - TK
        - TM
        - TO
        - TT
        - TV
        - TZ
        - UG
        - VC
        - VI
        - VU
        - WS
        - ZW
      description: Código según tabla de equivalencias de País
    especie:
      title: especie
      type: object
      properties:
        codigo:
          type: string
        descripcion:
          type: string
    cuenta_response:
      title: cuenta_response
      type: object
      properties:
        tipoCuenta:
          type: string
        descripcion:
          type: string
        nroCuenta:
          type: string
        aliasCuenta:
          type: string
        cbuCuenta:
          type: string
        estado:
          type: string
    saldo:
      title: saldo
      type: object
      properties:
        total:
          type: number
        disponible:
          type: number
        inmovilizado:
          type: number
        proyectado:
          type: number
        enPesos:
          type: number
    lista_por_especie:
      title: lista_por_especie
      type: array
      items:
        type: object
        properties:
          moneda:
            type: string
          especie:
            $ref: '#/components/schemas/especie'
          saldo:
            $ref: '#/components/schemas/saldo'
          acuerdos:
            type: number
          bloqueada:
            type: string
            enum:
              - S
              - 'N'
    telefono_requerido:
      title: telefono_requerido
      type: object
      properties:
        codigoArea:
          type: string
        nro:
          type: string
      required:
        - codigoArea
        - nro
  securitySchemes:
    API Key:
      type: http
      scheme: bearer
